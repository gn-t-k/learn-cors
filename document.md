# CORSについて理解する

## CORSとは

### 概要

Cross Origin Resource Sharingの略。

通常、ブラウザは同一オリジンポリシーによって、オリジンAの文書やスクリプトなどのリソースからオリジンBのリソースにはアクセスできないように制限されている。CORSは、追加のHTTPヘッダを使用することで、同一オリジンポリシーによるリソース間のアクセスの制限を緩和するためのブラウザの仕組み。

### 何を解決したか

Ajaxの普及により異なるオリジンのAPIを呼び出したいという需要が生まれたが、CORSの仕組みがないブラウザでは同一オリジンポリシーによって異なるオリジンのリソースへアクセスは拒まれていた。こういった状況の中で、クロスドメインアクセスを実現したいという要求に答えるため考案されたのがCORS。CORSの規定に則ってブラウザとサーバーでアクセス制御に関する情報をやりとりすれば、安全にクロスドメインアクセスを実現ができる。

### CORSを使用したリクエストのシナリオ

CORSの仕様に則ってクロスドメインのリソースへアクセスする方法は2パターンがある。

- クロスドメインのリソースにアクセスするリクエストを直接送信する「シンプルなリクエスト」のパターン
- クロスドメインアクセスが可能か確認するリクエストを送信してそのレスポンスを受けた後に改めてクロスドメインのリソースアクセスを行うパターン

前者のパターンは「シンプルなリクエスト」と呼ばれ、後者のパターンで送られる確認のリクエストは「プリフライトリクエスト」と呼ばれる。CORSで定義された条件を満たせばシンプルなリクエストが送られ、そうでなければプリフライトリクエストからやりとりが始まる。

#### シンプルなリクエスト

#### プリフライトリクエスト

## モックの実装
